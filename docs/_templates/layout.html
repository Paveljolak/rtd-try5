{% extends "!layout.html" %}

{% block sidebartitle %}
{{ super() }}
<div class="version-switcher" style="
        margin-top: 12px;
        padding: 8px;
        background-color: #2d2d2d;
        border-radius: 6px;
        z-index: 9999;
    ">
    <label for="version-select" style="
            color: #fff;
            display: block;
            margin-bottom: 6px;
            font-weight: bold;
        ">
        Version
    </label>
    <select id="version-select" onchange="window.location.href=this.value" style="
            width: 100%;
            padding: 4px 6px;
            border-radius: 4px;
            border: 1px solid #555;
            background-color: #fff;
            color: #000;
            font-weight: normal;
        ">
        <option value="/humble/">humble</option>
        <option value="/jazzy/">jazzy</option>
        <option value="/main/">main</option>
        <option value="/test/">test</option>
    </select>

    <script>
        const select = document.getElementById('version-select');
        const pathParts = window.location.pathname.split('/');
        const current = pathParts[1]; // first folder after root
        for (let option of select.options) {
            if (option.value.replace(/\//g, '') === current) {
                option.selected = true;
            }
        }
    </script>
</div>
{% endblock %}

{% block content %}
{{ super() }}
{% endblock %}